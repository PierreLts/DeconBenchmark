#!/bin/bash
#SBATCH --job-name=finalRDA
#SBATCH --output=/scratch/lorthiois/logs/%j.o
#SBATCH --error=/scratch/lorthiois/logs/%j.err
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --mem=32G
#SBATCH --time=1:00:00
#SBATCH --dependency=afterok:Submitting,job:,bulk_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/bulkRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/cleaned_feature_counts_matrix.csv,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32636662,for,bulk_gen,32636662,Submitting,job:,labels_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/labelsRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32636663,for,labels_gen,32636663,Submitting,job:,scRNA_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/scRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,TB1,Submitted,job,32636664,for,scRNA_gen,32636664,Submitting,job:,subjects_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_subjects_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32636665,for,subjects_gen,32636665,Submitting,job:,markers_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_markers_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,TB1,Submitted,job,32636666,for,markers_gen,32636666,Submitting,job:,celltype_expr_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_celltype_expression_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32636667,for,celltype_expr_gen,32636667,32636668,Submitting,job:,sample_gt_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/per_sample_ground_truth.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32636669,for,sample_gt_gen,32636669

module use /work/scitas-share/spack-r-gr-fe/share/spack/lmod/linux-rhel8-x86_64/Core/
module load r
Rscript /work/gr-fe/lorthiois/DeconBenchmark/scripts/data/finalRDA_generation.R /work/gr-fe/R_4.3.1 /work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1 /work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1 TB1
