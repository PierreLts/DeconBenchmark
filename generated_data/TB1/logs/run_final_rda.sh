#!/bin/bash
#SBATCH --job-name=finalRDA
#SBATCH --output=/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1/logs/%j.out
#SBATCH --error=/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1/logs/%j.err
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --mem=32G
#SBATCH --time=1:00:00
#SBATCH --dependency=afterok:Submitting,job:,bulk_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/bulkRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/cleaned_feature_counts_matrix.csv,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32561171,for,bulk_gen,32561171,Submitting,job:,labels_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/labelsRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32561172,for,labels_gen,32561172,Submitting,job:,scRNA_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/scRNA_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,TB1,Submitted,job,32561173,for,scRNA_gen,32561173,Submitting,job:,subjects_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_subjects_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32561174,for,subjects_gen,32561174,Submitting,job:,markers_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_markers_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,TB1,Submitted,job,32561175,for,markers_gen,32561175,Submitting,job:,celltype_expr_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/seurat_celltype_expression_generation.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/data/mart_export.txt,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32561176,for,celltype_expr_gen,32561176,32561177,Submitting,job:,sample_gt_gen,Command:,Rscript,/work/gr-fe/lorthiois/DeconBenchmark/scripts/data/per_sample_ground_truth.R,/work/gr-fe/R_4.3.1,/work/gr-fe/lorthiois/DeconBenchmark/data/GFB-33245_HFKJMDSXC_2_scRNAseqWTATBseverityrun1_Seurat.rds,/work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1,TB1,Submitted,job,32561178,for,sample_gt_gen,32561178

module use /work/scitas-share/spack-r-gr-fe/share/spack/lmod/linux-rhel8-x86_64/Core/
module load r
Rscript /work/gr-fe/lorthiois/DeconBenchmark/scripts/data/finalRDA_generation.R /work/gr-fe/R_4.3.1 /work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1 /work/gr-fe/lorthiois/DeconBenchmark/generated_data/TB1 TB1
